# -u => erro on unset var
set -eu -o pipefail

# arrays
array=("elem 1" "elem 2")
array+=("elem 3")
array+=("elem 4" "elem 5")
for e in "${array[@]}"
do
  echo "$e"
done
# array's elements count:
${#array[@]}


# trap with function
function finish()
{
  echo 42
}
trap finish EXIT

# direct trap
trap 'echo 42' EXIT

# read entries into array
readarray -t my_array < file.txt

# I/O to/from sockets
exec 5<>/dev/tcp/127.0.0.1/5555
head -n 5 <&5
date >&5

# diff two files' content, but sorted on the fly
diff -u <(cat foo.txt | sort) <(cat bar.txt | sort)

# unmatched expressions produce empty output
shopt -s nullglob # set
shopt -u nullglob # unset

# write stdout of a command to a file and mvoe stderr to stdout of a pipe
some_cmd 2>&1 > /tmp/content_of_stdout.txt | pipe_will_take_stderr_as_stdout

# prefix lines with timestamps (apt install moreutils)
some --long --command | ts
some --long --command | ts '%Y-%m-%d %H:%M:%.S'

# in-place diff 2 files, process by a sort command
vimdiff <(sort foo.txt) <(sort bar.txt)
